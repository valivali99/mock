<mat-accordion>
    <mat-expansion-panel class="mat-elevation-z0" hideToggle>

        <mat-expansion-panel-header #panelL (click)="panelL._toggle()">

            <mat-panel-title>

                <mat-icon (click)="toggleAssembliesPanel()">{{toggleAssemblies}}</mat-icon>

                <span (click)="calculateCost()">

                    <mat-icon class="assembly">build_circle</mat-icon>

                    <span class="title">{{assembly.name}}</span>

                </span>

            </mat-panel-title>

        </mat-expansion-panel-header>

        <div>

            <mat-accordion>
                <mat-expansion-panel class="mat-elevation-z0" hideToggle>

                    <mat-expansion-panel-header #panelH (click)="panelH._toggle()">

                        <mat-panel-title>

                            <mat-icon *ngIf="assembly.assemblies; else noAssemblies"
                                (click)="toggleSubassembliesPanel()">
                                {{toggleSubassemblies}}</mat-icon>

                            <ng-template #noAssemblies><span class="tab"></span></ng-template>

                            <mat-icon class="subassembly">analytics</mat-icon>

                            <span class="title">Subassemblies</span>

                        </mat-panel-title>

                    </mat-expansion-panel-header>

                    <div *ngFor="let assembly of assembly.assemblies">
                        <app-assembly [assembly]=assembly></app-assembly>
                    </div>

                </mat-expansion-panel>
            </mat-accordion>

        </div>

        <div>

            <mat-accordion>
                <mat-expansion-panel class="mat-elevation-z0" hideToggle>

                    <mat-expansion-panel-header #panelJ (click)="panelJ._toggle()">

                        <mat-panel-title>

                            <mat-icon *ngIf="assembly.parts; else noParts" (click)="togglePartsPanel()">{{toggleParts}}
                            </mat-icon>

                            <ng-template #noParts><span class="tab"></span></ng-template>

                            <mat-icon class="part">view_in_ar</mat-icon>

                            <span class="title">Parts</span>

                        </mat-panel-title>

                    </mat-expansion-panel-header>

                    <div *ngFor="let part of assembly.parts">
                        <app-part [part]=part></app-part>
                    </div>

                </mat-expansion-panel>
            </mat-accordion>

        </div>

        <div>

            <mat-accordion>
                <mat-expansion-panel class="mat-elevation-z0" hideToggle>

                    <mat-expansion-panel-header #panelK (click)="panelK._toggle()">

                        <mat-panel-title>

                            <mat-icon *ngIf="assembly.steps; else noSteps" (click)="toggleProcessesPanel()">
                                {{toggleProcesses}}</mat-icon>

                            <ng-template #noSteps><span class="tab"></span></ng-template>

                            <mat-icon class="process">repeat_on</mat-icon>

                            <span class="title">Processes</span>

                        </mat-panel-title>

                    </mat-expansion-panel-header>

                    <div *ngFor="let step of assembly.steps">
                        <app-step [step]=step></app-step>
                    </div>

                </mat-expansion-panel>

            </mat-accordion>

        </div>

        <div class="header">
            <mat-icon class="result">receipt</mat-icon>
            <span class="title">Result Details</span>
        </div>

    </mat-expansion-panel>
</mat-accordion>